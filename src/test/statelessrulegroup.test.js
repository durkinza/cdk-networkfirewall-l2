"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//import { Template, Match } from 'aws-cdk-lib/assertions';
const assertions_1 = require("aws-cdk-lib/assertions");
const cdk = require("aws-cdk-lib/core");
const NetFW = require("../lib");
test('Default property', () => {
    // GIVEN
    const stack = new cdk.Stack();
    // WHEN
    new NetFW.StatelessRuleGroup(stack, 'MyStatelessRuleGroup');
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::NetworkFirewall::RuleGroup', {
        Capacity: 0,
        RuleGroupName: 'MyStatelessRuleGroup',
        Type: 'STATELESS',
        RuleGroup: {
            RulesSource: {
                StatelessRulesAndCustomActions: {
                    StatelessRules: [],
                },
            },
        },
    });
});
test('Given property', () => {
    // GIVEN
    const stack = new cdk.Stack();
    const statelessRule = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
    });
    // WHEN
    new NetFW.StatelessRuleGroup(stack, 'MyStatelessRuleGroup', {
        ruleGroupName: 'MyNamedStatelessRuleGroup',
        capacity: 100,
        rules: [{ rule: statelessRule, priority: 10 }],
        customActions: [
            {
                actionDefinition: {
                    publishMetricAction: {
                        dimensions: [{
                                value: 'value',
                            }],
                    },
                },
                actionName: 'actionName',
            },
        ],
        variables: {
            ipSets: {
                ipSetsKey: {
                    definition: ['10.0.0.0/16', '10.10.0.0/16'],
                },
            },
            portSets: {
                portSetsKey: {
                    definition: ['443', '80'],
                },
            },
        },
    });
    // THEN
    assertions_1.Template.fromStack(stack).hasResourceProperties('AWS::NetworkFirewall::RuleGroup', {
        Capacity: 100,
        RuleGroupName: 'MyNamedStatelessRuleGroup',
        Type: 'STATELESS',
        RuleGroup: {
            RuleVariables: {
                IPSets: {
                    ipSetsKey: {
                        Definition: [
                            '10.0.0.0/16',
                            '10.10.0.0/16',
                        ],
                    },
                },
                PortSets: {
                    portSetsKey: {
                        Definition: [
                            '443',
                            '80',
                        ],
                    },
                },
            },
            RulesSource: {
                StatelessRulesAndCustomActions: {
                    CustomActions: [
                        {
                            ActionDefinition: {
                                PublishMetricAction: {
                                    Dimensions: [
                                        {
                                            Value: 'value',
                                        },
                                    ],
                                },
                            },
                            ActionName: 'actionName',
                        },
                    ],
                    StatelessRules: [
                        {
                            Priority: 10,
                            RuleDefinition: {
                                Actions: [
                                    'aws:drop',
                                ],
                                MatchAttributes: {
                                    Destinations: [],
                                    Sources: [],
                                },
                            },
                        },
                    ],
                },
            },
        },
    });
});
test('Verifies rule Priorties', () => {
    // GIVEN
    const stack = new cdk.Stack();
    const statelessRule1 = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
    });
    const statelessRule2 = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
    });
    // WHEN
    expect(() => {
        new NetFW.StatelessRuleGroup(stack, 'MyStatelessRuleGroup', {
            rules: [
                {
                    rule: statelessRule1,
                    priority: 10,
                },
                {
                    rule: statelessRule2,
                    priority: 10,
                },
            ],
        });
        // THEN
    }).toThrow('Priority must be unique, got duplicate priority: \'10\'');
});
test('Calculate Capacity of rules', () => {
    // GIVEN
    const stack = new cdk.Stack();
    const statelessRule1 = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
        destinationPorts: [
            {
                fromPort: 80,
                toPort: 80,
            },
            {
                fromPort: 443,
                toPort: 443,
            },
        ],
        destinations: ['10.0.0.0/16, 10.10.0.0/16'],
        sourcePorts: [{
                fromPort: 0,
                toPort: 65535,
            }],
        sources: ['10.0.0.0/16', '10.10.0.0/16'],
        protocols: [10, 11],
        tcpFlags: [{ flags: ['ECE', 'SYN'], masks: ['SYN', 'ECE'] }],
    });
    const statelessRule2 = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
    });
    // WHEN
    const statelessRuleGroup = new NetFW.StatelessRuleGroup(stack, 'MyStatelessRuleGroup', {
        ruleGroupName: 'MyNamedStatelessRuleGroup',
        rules: [
            {
                rule: statelessRule1,
                priority: 10,
            },
            {
                rule: statelessRule2,
                priority: 20,
            },
        ],
    });
    // capacity of statelessRule1(16) + statelessRule2(1) = 17
    expect(statelessRuleGroup.calculateCapacity()).toBe(17);
});
test('Capacity validation', () => {
    // GIVEN
    const stack = new cdk.Stack();
    // WHEN
    expect(() => {
        new NetFW.StatelessRuleGroup(stack, 'MyStatelessRuleGroup', {
            ruleGroupName: 'MyNamedStatelessRuleGroup',
            capacity: 30001,
        });
    }).toThrow('Capacity must be a positive value less than 30,000, got: \'30001\'');
});
test('Calculate Capacity validation', () => {
    // GIVEN
    const stack = new cdk.Stack();
    const statelessRule1 = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
        destinationPorts: [
            { fromPort: 1, toPort: 1 },
            { fromPort: 2, toPort: 2 },
            { fromPort: 3, toPort: 3 },
            { fromPort: 4, toPort: 4 },
            { fromPort: 5, toPort: 5 },
            { fromPort: 6, toPort: 6 },
            { fromPort: 7, toPort: 7 },
            { fromPort: 8, toPort: 8 },
            { fromPort: 9, toPort: 9 },
            { fromPort: 10, toPort: 10 },
        ],
        destinations: ['10.0.0.0/16, 10.1.0.0/16, 10.2.0.0/16, 10.3.0.0/16, 10.4.0.0/16, 10.5.0.0/16, 10.6.0.0/16, 10.7.0.0/16, 10.8.0.0/16, 10.9.0.0/16'],
        sourcePorts: [
            { fromPort: 1, toPort: 1 },
            { fromPort: 2, toPort: 2 },
            { fromPort: 3, toPort: 3 },
            { fromPort: 4, toPort: 4 },
            { fromPort: 5, toPort: 5 },
            { fromPort: 6, toPort: 6 },
            { fromPort: 7, toPort: 7 },
            { fromPort: 8, toPort: 8 },
            { fromPort: 9, toPort: 9 },
            { fromPort: 10, toPort: 10 },
        ],
        sources: ['10.0.0.0/16, 10.1.0.0/16, 10.2.0.0/16, 10.3.0.0/16, 10.4.0.0/16, 10.5.0.0/16, 10.6.0.0/16, 10.7.0.0/16, 10.8.0.0/16, 10.9.0.0/16'],
        protocols: [10, 11],
        tcpFlags: [{ flags: ['ECE', 'SYN'], masks: ['SYN', 'ECE'] }],
    });
    const statelessRule2 = new NetFW.StatelessRule({
        actions: [NetFW.StatelessStandardAction.DROP],
        destinationPorts: [
            { fromPort: 1, toPort: 1 },
            { fromPort: 2, toPort: 2 },
            { fromPort: 3, toPort: 3 },
            { fromPort: 4, toPort: 4 },
            { fromPort: 5, toPort: 5 },
            { fromPort: 6, toPort: 6 },
            { fromPort: 7, toPort: 7 },
            { fromPort: 8, toPort: 8 },
            { fromPort: 9, toPort: 9 },
            { fromPort: 10, toPort: 10 },
        ],
        destinations: ['10.0.0.0/16, 10.1.0.0/16, 10.2.0.0/16, 10.3.0.0/16, 10.4.0.0/16, 10.5.0.0/16, 10.6.0.0/16, 10.7.0.0/16, 10.8.0.0/16, 10.9.0.0/16'],
        sourcePorts: [
            { fromPort: 1, toPort: 1 },
            { fromPort: 2, toPort: 2 },
            { fromPort: 3, toPort: 3 },
            { fromPort: 4, toPort: 4 },
            { fromPort: 5, toPort: 5 },
            { fromPort: 6, toPort: 6 },
            { fromPort: 7, toPort: 7 },
            { fromPort: 8, toPort: 8 },
            { fromPort: 9, toPort: 9 },
            { fromPort: 10, toPort: 10 },
        ],
        sources: ['10.0.0.0/16, 10.1.0.0/16, 10.2.0.0/16, 10.3.0.0/16, 10.4.0.0/16, 10.5.0.0/16, 10.6.0.0/16, 10.7.0.0/16, 10.8.0.0/16, 10.9.0.0/16'],
        protocols: [10, 11],
        tcpFlags: [{ flags: ['ECE', 'SYN'], masks: ['SYN', 'ECE'] }],
    });
    // WHEN
    expect(() => {
        new NetFW.StatelessRuleGroup(stack, 'MyStatelessRuleGroup', {
            ruleGroupName: 'MyNamedStatelessRuleGroup',
            rules: [
                {
                    rule: statelessRule1,
                    priority: 10,
                },
                {
                    rule: statelessRule2,
                    priority: 20,
                },
            ],
        });
    }).toThrow('Capacity must be a positive value less than 30,000, got: \'40000\'');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGVsZXNzcnVsZWdyb3VwLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzdGF0ZWxlc3NydWxlZ3JvdXAudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJEQUEyRDtBQUMzRCx1REFBa0Q7QUFDbEQsd0NBQXdDO0FBQ3hDLGdDQUFnQztBQUVoQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQzVCLFFBQVE7SUFDUixNQUFNLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM5QixPQUFPO0lBQ1AsSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsS0FBSyxFQUFFLHNCQUFzQixDQUFDLENBQUM7SUFDNUQsT0FBTztJQUNQLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDLGlDQUFpQyxFQUFFO1FBQ2pGLFFBQVEsRUFBRSxDQUFDO1FBQ1gsYUFBYSxFQUFFLHNCQUFzQjtRQUNyQyxJQUFJLEVBQUUsV0FBVztRQUNqQixTQUFTLEVBQUU7WUFDVCxXQUFXLEVBQUU7Z0JBQ1gsOEJBQThCLEVBQUU7b0JBQzlCLGNBQWMsRUFBRSxFQUFFO2lCQUNuQjthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7SUFDMUIsUUFBUTtJQUNSLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzlCLE1BQU0sYUFBYSxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQztRQUM1QyxPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDO0tBQzlDLENBQUMsQ0FBQztJQUNILE9BQU87SUFDUCxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsc0JBQXNCLEVBQUU7UUFDMUQsYUFB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RUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDMUIsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUU7U0FDN0I7UUFDRCxZQUFZLEVBQUUsQ0FBQyxrSUFBa0ksQ0FBQztRQUNsSixXQUFXLEVBQUU7WUFDWCxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRTtZQUMxQixFQUFFLFFBQVEs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QUMxQyxLQUFLLEVBQUU7Z0JBQ0w7b0JBQ0UsSUFBSSxFQUFFLGNBQWM7b0JBQ3BCLFFBQVEsRUFBRSxFQUFFO2lCQUNiO2dCQUNEO29CQUNFLElBQUksRUFBRSxjQUFjO29CQUNwQixRQUFRLEVBQUUsRUFBRTtpQkFDYjthQUNGO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLG9FQUFvRSxDQUFDLENBQUM7QUFDbkYsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCB7IFRlbXBsYXRlLCBNYXRjaCB9IGZyb20gJ2F3cy1jZGstbGliL2Fzc2VydGlvbnMnO1xuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICdhd3MtY2RrLWxpYi9hc3NlcnRpb25zJztcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYi9jb3JlJztcbmltcG9ydCAqIGFzIE5ldEZXIGZyb20gJy4uL2xpYic7XG5cbnRlc3QoJ0RlZmF1bHQgcHJvcGVydHknLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICAvLyBXSEVOXG4gIG5ldyBOZXRGVy5TdGF0ZWxlc3NSdWxlR3JvdXAoc3RhY2ssICdNeVN0YXRlbGVzc1J1bGVHcm91cCcpO1xuICAvLyBUSEVOXG4gIFRlbXBsYXRlLmZyb21TdGFjayhzdGFjaykuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6Ok5ldHdvcmtGaXJld2FsbDo6UnVsZUdyb3VwJywge1xuICAgIENhcGFjaXR5OiAwLFxuICAgIFJ1bGVHcm91cE5hbWU6ICdNeVN0YXRlbGVzc1J1bGVHcm91cCcsXG4gICAgVHlwZTogJ1NUQVRFTEVTUycsXG4gICAgUnVsZUdyb3VwOiB7XG4gICAgICBSdWxlc1NvdXJjZToge1xuICAgICAgICBTdGF0ZWxlc3NSdWxlc0FuZEN1c3RvbUFjdGlvbnM6IHtcbiAgICAgICAgICBTdGF0ZWxlc3NSdWxlczogW10sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbnRlc3QoJ0dpdmVuIHByb3BlcnR5JywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgY29uc3Qgc3RhdGVsZXNzUnVsZSA9IG5ldyBOZXRGVy5TdGF0ZWxlc3NSdWxlKHtcbiAgICBhY3Rpb25zOiBbTmV0RlcuU3RhdGVsZXNzU3RhbmRhcmRBY3Rpb24uRFJPUF0sXG4gIH0pO1xuICAvLyBXSEVOXG4gIG5ldyBOZXRGVy5TdGF0ZWxlc3NSdWxlR3JvdXAoc3RhY2ssICdNeVN0YXRlbGVzc1J1bGVHcm91cCcsIHtcbiAgICBydWxlR3JvdXBOYW1lOiAnTXlOYW1lZFN0YXRlbGVzc1J1bGVHcm91cCcsXG4gICAgY2FwYWNpdHk6IDEwMCxcbiAgICBydWxlczogW3sgcnVsZTogc3RhdGVsZXNzUnVsZSwgcHJpb3JpdHk6IDEwIH1dLFxuICAgIGN1c3RvbUFjdGlvbnM6IFtcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uRGVmaW5pdGlvbjoge1xuICAgICAgICAgIHB1Ymxpc2hNZXRyaWNBY3Rpb246IHtcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IFt7XG4gICAgICAgICAgICAgIHZhbHVlOiAndmFsdWUnLFxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uTmFtZTogJ2FjdGlvbk5hbWUnLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHZhcmlhYmxlczoge1xuICAgICAgaXBTZXRzOiB7XG4gICAgICAgIGlwU2V0c0tleToge1xuICAgICAgICAgIGRlZmluaXRpb246IFsnMTAuMC4wLjAvMTYnLCAnMTAuMTAuMC4wLzE2J10sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcG9ydFNldHM6IHtcbiAgICAgICAgcG9ydFNldHNLZXk6IHtcbiAgICAgICAgICBkZWZpbml0aW9uOiBbJzQ0MycsICc4MCddLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbiAgLy8gVEhFTlxuICBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpOZXR3b3JrRmlyZXdhbGw6OlJ1bGVHcm91cCcsIHtcbiAgICBDYXBhY2l0eTogMTAwLFxuICAgIFJ1bGVHcm91cE5hbWU6ICdNeU5hbWVkU3RhdGVsZXNzUnVsZUdyb3VwJyxcbiAgICBUeXBlOiAnU1RBVEVMRVNTJyxcbiAgICBSdWxlR3JvdXA6IHtcbiAgICAgIFJ1bGVWYXJpYWJsZXM6IHtcbiAgICAgICAgSVBTZXRzOiB7XG4gICAgICAgICAgaXBTZXRzS2V5OiB7XG4gICAgICAgICAgICBEZWZpbml0aW9uOiBbXG4gICAgICAgICAgICAgICcxMC4wLjAuMC8xNicsXG4gICAgICAgICAgICAgICcxMC4xMC4wLjAvMTYnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBQb3J0U2V0czoge1xuICAgICAgICAgIHBvcnRTZXRzS2V5OiB7XG4gICAgICAgICAgICBEZWZpbml0aW9uOiBbXG4gICAgICAgICAgICAgICc0NDMnLFxuICAgICAgICAgICAgICAnODAnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFJ1bGVzU291cmNlOiB7XG4gICAgICAgIFN0YXRlbGVzc1J1bGVzQW5kQ3VzdG9tQWN0aW9uczoge1xuICAgICAgICAgIEN1c3RvbUFjdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgQWN0aW9uRGVmaW5pdGlvbjoge1xuICAgICAgICAgICAgICAgIFB1Ymxpc2hNZXRyaWNBY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgIERpbWVuc2lvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiAndmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBBY3Rpb25OYW1lOiAnYWN0aW9uTmFtZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgU3RhdGVsZXNzUnVsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgUHJpb3JpdHk6IDEwLFxuICAgICAgICAgICAgICBSdWxlRGVmaW5pdGlvbjoge1xuICAgICAgICAgICAgICAgIEFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICdhd3M6ZHJvcCcsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBNYXRjaEF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIERlc3RpbmF0aW9uczogW10sXG4gICAgICAgICAgICAgICAgICBTb3VyY2VzOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG50ZXN0KCdWZXJpZmllcyBydWxlIFByaW9ydGllcycsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gIGNvbnN0IHN0YXRlbGVzc1J1bGUxID0gbmV3IE5ldEZXLlN0YXRlbGVzc1J1bGUoe1xuICAgIGFjdGlvbnM6IFtOZXRGVy5TdGF0ZWxlc3NTdGFuZGFyZEFjdGlvbi5EUk9QXSxcbiAgfSk7XG4gIGNvbnN0IHN0YXRlbGVzc1J1bGUyID0gbmV3IE5ldEZXLlN0YXRlbGVzc1J1bGUoe1xuICAgIGFjdGlvbnM6IFtOZXRGVy5TdGF0ZWxlc3NTdGFuZGFyZEFjdGlvbi5EUk9QXSxcbiAgfSk7XG4gIC8vIFdIRU5cbiAgZXhwZWN0KCgpID0+IHtcbiAgICBuZXcgTmV0RlcuU3RhdGVsZXNzUnVsZUdyb3VwKHN0YWNrLCAnTXlTdGF0ZWxlc3NSdWxlR3JvdXAnLCB7XG4gICAgICBydWxlczogW1xuICAgICAgICB7XG4gICAgICAgICAgcnVsZTogc3RhdGVsZXNzUnVsZTEsXG4gICAgICAgICAgcHJpb3JpdHk6IDEwLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcnVsZTogc3RhdGVsZXNzUnVsZTIsXG4gICAgICAgICAgcHJpb3JpdHk6IDEwLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcbiAgLy8gVEhFTlxuICB9KS50b1Rocm93KCdQcmlvcml0eSBtdXN0IGJlIHVuaXF1ZSwgZ290IGR1cGxpY2F0ZSBwcmlvcml0eTogXFwnMTBcXCcnKTtcbn0pO1xuXG50ZXN0KCdDYWxjdWxhdGUgQ2FwYWNpdHkgb2YgcnVsZXMnLCAoKSA9PiB7XG4gIC8vIEdJVkVOXG4gIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjaygpO1xuICBjb25zdCBzdGF0ZWxlc3NSdWxlMSA9IG5ldyBOZXRGVy5TdGF0ZWxlc3NSdWxlKHtcbiAgICBhY3Rpb25zOiBbTmV0RlcuU3RhdGVsZXNzU3RhbmRhcmRBY3Rpb24uRFJPUF0sXG4gICAgZGVzdGluYXRpb25Qb3J0czogW1xuICAgICAge1xuICAgICAgICBmcm9tUG9ydDogODAsXG4gICAgICAgIHRvUG9ydDogODAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmcm9tUG9ydDogNDQzLFxuICAgICAgICB0b1BvcnQ6IDQ0MyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBkZXN0aW5hdGlvbnM6IFsnMTAuMC4wLjAvMTYsIDEwLjEwLjAuMC8xNiddLFxuICAgIHNvdXJjZVBvcnRzOiBbe1xuICAgICAgZnJvbVBvcnQ6IDAsXG4gICAgICB0b1BvcnQ6IDY1NTM1LFxuICAgIH1dLFxuICAgIHNvdXJjZXM6IFsnMTAuMC4wLjAvMTYnLCAnMTAuMTAuMC4wLzE2J10sXG4gICAgcHJvdG9jb2xzOiBbMTAsIDExXSxcbiAgICB0Y3BGbGFnczogW3sgZmxhZ3M6IFsnRUNFJywgJ1NZTiddLCBtYXNrczogWydTWU4nLCAnRUNFJ10gfV0sXG4gIH0pO1xuICBjb25zdCBzdGF0ZWxlc3NSdWxlMiA9IG5ldyBOZXRGVy5TdGF0ZWxlc3NSdWxlKHtcbiAgICBhY3Rpb25zOiBbTmV0RlcuU3RhdGVsZXNzU3RhbmRhcmRBY3Rpb24uRFJPUF0sXG4gIH0pO1xuICAvLyBXSEVOXG4gIGNvbnN0IHN0YXRlbGVzc1J1bGVHcm91cCA9IG5ldyBOZXRGVy5TdGF0ZWxlc3NSdWxlR3JvdXAoc3RhY2ssICdNeVN0YXRlbGVzc1J1bGVHcm91cCcsIHtcbiAgICBydWxlR3JvdXBOYW1lOiAnTXlOYW1lZFN0YXRlbGVzc1J1bGVHcm91cCcsXG4gICAgcnVsZXM6IFtcbiAgICAgIHtcbiAgICAgICAgcnVsZTogc3RhdGVsZXNzUnVsZTEsXG4gICAgICAgIHByaW9yaXR5OiAxMCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJ1bGU6IHN0YXRlbGVzc1J1bGUyLFxuICAgICAgICBwcmlvcml0eTogMjAsXG4gICAgICB9LFxuICAgIF0sXG4gIH0pO1xuXG4gIC8vIGNhcGFjaXR5IG9mIHN0YXRlbGVzc1J1bGUxKDE2KSArIHN0YXRlbGVzc1J1bGUyKDEpID0gMTdcbiAgZXhwZWN0KHN0YXRlbGVzc1J1bGVHcm91cC5jYWxjdWxhdGVDYXBhY2l0eSgpKS50b0JlKDE3KTtcbn0pO1xudGVzdCgnQ2FwYWNpdHkgdmFsaWRhdGlvbicsICgpID0+IHtcbiAgLy8gR0lWRU5cbiAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gIC8vIFdIRU5cbiAgZXhwZWN0KCgpID0+IHtcbiAgICBuZXcgTmV0RlcuU3RhdGVsZXNzUnVsZUdyb3VwKHN0YWNrLCAnTXlTdGF0ZWxlc3NSdWxlR3JvdXAnLCB7XG4gICAgICBydWxlR3JvdXBOYW1lOiAnTXlOYW1lZFN0YXRlbGVzc1J1bGVHcm91cCcsXG4gICAgICBjYXBhY2l0eTogMzAwMDEsXG4gICAgfSk7XG4gIH0pLnRvVGhyb3coJ0NhcGFjaXR5IG11c3QgYmUgYSBwb3NpdGl2ZSB2YWx1ZSBsZXNzIHRoYW4gMzAsMDAwLCBnb3Q6IFxcJzMwMDAxXFwnJyk7XG59KTtcbnRlc3QoJ0NhbGN1bGF0ZSBDYXBhY2l0eSB2YWxpZGF0aW9uJywgKCkgPT4ge1xuICAvLyBHSVZFTlxuICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgY29uc3Qgc3RhdGVsZXNzUnVsZTEgPSBuZXcgTmV0RlcuU3RhdGVsZXNzUnVsZSh7XG4gICAgYWN0aW9uczogW05ldEZXLlN0YXRlbGVzc1N0YW5kYXJkQWN0aW9uLkRST1BdLFxuICAgIGRlc3RpbmF0aW9uUG9ydHM6IFtcbiAgICAgIHsgZnJvbVBvcnQ6IDEsIHRvUG9ydDogMSB9LFxuICAgICAgeyBmcm9tUG9ydDogMiwgdG9Qb3J0OiAyIH0sXG4gICAgICB7IGZyb21Qb3J0OiAzLCB0b1BvcnQ6IDMgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDQsIHRvUG9ydDogNCB9LFxuICAgICAgeyBmcm9tUG9ydDogNSwgdG9Qb3J0OiA1IH0sXG4gICAgICB7IGZyb21Qb3J0OiA2LCB0b1BvcnQ6IDYgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDcsIHRvUG9ydDogNyB9LFxuICAgICAgeyBmcm9tUG9ydDogOCwgdG9Qb3J0OiA4IH0sXG4gICAgICB7IGZyb21Qb3J0OiA5LCB0b1BvcnQ6IDkgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDEwLCB0b1BvcnQ6IDEwIH0sXG4gICAgXSxcbiAgICBkZXN0aW5hdGlvbnM6IFsnMTAuMC4wLjAvMTYsIDEwLjEuMC4wLzE2LCAxMC4yLjAuMC8xNiwgMTAuMy4wLjAvMTYsIDEwLjQuMC4wLzE2LCAxMC41LjAuMC8xNiwgMTAuNi4wLjAvMTYsIDEwLjcuMC4wLzE2LCAxMC44LjAuMC8xNiwgMTAuOS4wLjAvMTYnXSxcbiAgICBzb3VyY2VQb3J0czogW1xuICAgICAgeyBmcm9tUG9ydDogMSwgdG9Qb3J0OiAxIH0sXG4gICAgICB7IGZyb21Qb3J0OiAyLCB0b1BvcnQ6IDIgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDMsIHRvUG9ydDogMyB9LFxuICAgICAgeyBmcm9tUG9ydDogNCwgdG9Qb3J0OiA0IH0sXG4gICAgICB7IGZyb21Qb3J0OiA1LCB0b1BvcnQ6IDUgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDYsIHRvUG9ydDogNiB9LFxuICAgICAgeyBmcm9tUG9ydDogNywgdG9Qb3J0OiA3IH0sXG4gICAgICB7IGZyb21Qb3J0OiA4LCB0b1BvcnQ6IDggfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDksIHRvUG9ydDogOSB9LFxuICAgICAgeyBmcm9tUG9ydDogMTAsIHRvUG9ydDogMTAgfSxcbiAgICBdLFxuICAgIHNvdXJjZXM6IFsnMTAuMC4wLjAvMTYsIDEwLjEuMC4wLzE2LCAxMC4yLjAuMC8xNiwgMTAuMy4wLjAvMTYsIDEwLjQuMC4wLzE2LCAxMC41LjAuMC8xNiwgMTAuNi4wLjAvMTYsIDEwLjcuMC4wLzE2LCAxMC44LjAuMC8xNiwgMTAuOS4wLjAvMTYnXSxcbiAgICBwcm90b2NvbHM6IFsxMCwgMTFdLFxuICAgIHRjcEZsYWdzOiBbeyBmbGFnczogWydFQ0UnLCAnU1lOJ10sIG1hc2tzOiBbJ1NZTicsICdFQ0UnXSB9XSxcbiAgfSk7XG4gIGNvbnN0IHN0YXRlbGVzc1J1bGUyID0gbmV3IE5ldEZXLlN0YXRlbGVzc1J1bGUoe1xuICAgIGFjdGlvbnM6IFtOZXRGVy5TdGF0ZWxlc3NTdGFuZGFyZEFjdGlvbi5EUk9QXSxcbiAgICBkZXN0aW5hdGlvblBvcnRzOiBbXG4gICAgICB7IGZyb21Qb3J0OiAxLCB0b1BvcnQ6IDEgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDIsIHRvUG9ydDogMiB9LFxuICAgICAgeyBmcm9tUG9ydDogMywgdG9Qb3J0OiAzIH0sXG4gICAgICB7IGZyb21Qb3J0OiA0LCB0b1BvcnQ6IDQgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDUsIHRvUG9ydDogNSB9LFxuICAgICAgeyBmcm9tUG9ydDogNiwgdG9Qb3J0OiA2IH0sXG4gICAgICB7IGZyb21Qb3J0OiA3LCB0b1BvcnQ6IDcgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDgsIHRvUG9ydDogOCB9LFxuICAgICAgeyBmcm9tUG9ydDogOSwgdG9Qb3J0OiA5IH0sXG4gICAgICB7IGZyb21Qb3J0OiAxMCwgdG9Qb3J0OiAxMCB9LFxuICAgIF0sXG4gICAgZGVzdGluYXRpb25zOiBbJzEwLjAuMC4wLzE2LCAxMC4xLjAuMC8xNiwgMTAuMi4wLjAvMTYsIDEwLjMuMC4wLzE2LCAxMC40LjAuMC8xNiwgMTAuNS4wLjAvMTYsIDEwLjYuMC4wLzE2LCAxMC43LjAuMC8xNiwgMTAuOC4wLjAvMTYsIDEwLjkuMC4wLzE2J10sXG4gICAgc291cmNlUG9ydHM6IFtcbiAgICAgIHsgZnJvbVBvcnQ6IDEsIHRvUG9ydDogMSB9LFxuICAgICAgeyBmcm9tUG9ydDogMiwgdG9Qb3J0OiAyIH0sXG4gICAgICB7IGZyb21Qb3J0OiAzLCB0b1BvcnQ6IDMgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDQsIHRvUG9ydDogNCB9LFxuICAgICAgeyBmcm9tUG9ydDogNSwgdG9Qb3J0OiA1IH0sXG4gICAgICB7IGZyb21Qb3J0OiA2LCB0b1BvcnQ6IDYgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDcsIHRvUG9ydDogNyB9LFxuICAgICAgeyBmcm9tUG9ydDogOCwgdG9Qb3J0OiA4IH0sXG4gICAgICB7IGZyb21Qb3J0OiA5LCB0b1BvcnQ6IDkgfSxcbiAgICAgIHsgZnJvbVBvcnQ6IDEwLCB0b1BvcnQ6IDEwIH0sXG4gICAgXSxcbiAgICBzb3VyY2VzOiBbJzEwLjAuMC4wLzE2LCAxMC4xLjAuMC8xNiwgMTAuMi4wLjAvMTYsIDEwLjMuMC4wLzE2LCAxMC40LjAuMC8xNiwgMTAuNS4wLjAvMTYsIDEwLjYuMC4wLzE2LCAxMC43LjAuMC8xNiwgMTAuOC4wLjAvMTYsIDEwLjkuMC4wLzE2J10sXG4gICAgcHJvdG9jb2xzOiBbMTAsIDExXSxcbiAgICB0Y3BGbGFnczogW3sgZmxhZ3M6IFsnRUNFJywgJ1NZTiddLCBtYXNrczogWydTWU4nLCAnRUNFJ10gfV0sXG4gIH0pO1xuICAvLyBXSEVOXG4gIGV4cGVjdCgoKSA9PiB7XG4gICAgbmV3IE5ldEZXLlN0YXRlbGVzc1J1bGVHcm91cChzdGFjaywgJ015U3RhdGVsZXNzUnVsZUdyb3VwJywge1xuICAgICAgcnVsZUdyb3VwTmFtZTogJ015TmFtZWRTdGF0ZWxlc3NSdWxlR3JvdXAnLFxuICAgICAgcnVsZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJ1bGU6IHN0YXRlbGVzc1J1bGUxLFxuICAgICAgICAgIHByaW9yaXR5OiAxMCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJ1bGU6IHN0YXRlbGVzc1J1bGUyLFxuICAgICAgICAgIHByaW9yaXR5OiAyMCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG4gIH0pLnRvVGhyb3coJ0NhcGFjaXR5IG11c3QgYmUgYSBwb3NpdGl2ZSB2YWx1ZSBsZXNzIHRoYW4gMzAsMDAwLCBnb3Q6IFxcJzQwMDAwXFwnJyk7XG59KTtcbiJdfQ==